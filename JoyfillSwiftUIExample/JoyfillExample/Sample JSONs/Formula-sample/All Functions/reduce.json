{
  "_id": "691acd933d90ecfb16a51b81",
  "identifier": "document-reduce-function-test",
  "name": "Reduce Function Test",
  "files": [
    {
      "_id": "691acd93a0d4b658f8cd5006",
      "name": "Reduce Function Test",
      "pages": [
        {
          "_id": "691acd93d713c2867f90381d",
          "name": "Test Page",
          "hidden": false,
          "width": 800.0,
          "height": 1000.0,
          "rowHeight": 0.5,
          "layout": "grid",
          "presentation": "normal",
          "cols": 8.0,
          "fieldPositions": [
            {
              "_id": "691acd938c809ab707312688",
              "field": "basic_example_sum",
              "x": 0.0,
              "y": 0.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd938c809ab707312689",
              "field": "basic_example_max",
              "x": 0.0,
              "y": 100.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd932899d4b4597fdfd4",
              "field": "products",
              "x": 0.0,
              "y": 200.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd9345ecf6c3c2ffe534",
              "field": "intermediate_example_total_price",
              "x": 0.0,
              "y": 300.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd932899d4b4597fdfd5",
              "field": "strings",
              "x": 0.0,
              "y": 400.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd9345ecf6c3c2ffe535",
              "field": "intermediate_example_concat",
              "x": 0.0,
              "y": 500.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd932899d4b4597fdfd6",
              "field": "people",
              "x": 0.0,
              "y": 600.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd931de704757740d985",
              "field": "advanced_example_group_by",
              "x": 0.0,
              "y": 700.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd932899d4b4597fdfd7",
              "field": "numbers",
              "x": 0.0,
              "y": 800.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd931de704757740d986",
              "field": "advanced_example_statistics",
              "x": 0.0,
              "y": 900.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd932899d4b4597fdfd8",
              "field": "fruits",
              "x": 0.0,
              "y": 1000.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            },
            {
              "_id": "691acd931de704757740d987",
              "field": "advanced_example_frequency",
              "x": 0.0,
              "y": 1100.0,
              "width": 800.0,
              "height": 100.0,
              "type": "text",
              "tableColumns": {},
              "displayType": "original"
            }
          ]
        }
      ],
      "pageOrder": [
        "691acd93d713c2867f90381d"
      ],
      "styles": {}
    }
  ],
  "fields": [
    {
      "_id": "basic_example_sum",
      "title": "Basic Example (Sum): reduce([1, 2, 3, 4], (acc, num) -> acc + num, 0)",
      "identifier": "field-basic-example-sum",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd93675e9b29653b30a1",
          "formula": "691acd93bab5a640f289ddd6",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    },
    {
      "_id": "basic_example_max",
      "title": "Basic Example (Max): reduce([5, 9, 2, 7], (max, num) -> if(num > max, num, max), -Infinity)",
      "identifier": "field-basic-example-max",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd93675e9b29653b30a2",
          "formula": "691acd93bab5a640f289ddd7",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    },
    {
      "_id": "products",
      "title": "Products",
      "identifier": "field-products",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006",
      "value": "[{\"name\": \"Laptop\", \"price\": 999}, {\"name\": \"Phone\", \"price\": 699}, {\"name\": \"Mouse\", \"price\": 25}, {\"name\": \"Keyboard\", \"price\": 45}]"
    },
    {
      "_id": "intermediate_example_total_price",
      "title": "Intermediate Example (Total Price): reduce(products, (total, product) -> total + product.price, 0)",
      "identifier": "field-intermediate-example-total-price",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd9347c3d405f83f7a46",
          "formula": "691acd93f6346774b0b9d08a",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    },
    {
      "_id": "strings",
      "title": "Strings",
      "identifier": "field-strings",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006",
      "value": "[\"Hello\", \"World\", \"!\"]"
    },
    {
      "_id": "intermediate_example_concat",
      "title": "Intermediate Example (Concat): reduce(strings, (result, str, index) -> if(index == 0, str, concat(result, \" \", str)), \"\")",
      "identifier": "field-intermediate-example-concat",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd9347c3d405f83f7a47",
          "formula": "691acd93f6346774b0b9d08b",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    },
    {
      "_id": "people",
      "title": "People",
      "identifier": "field-people",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006",
      "value": "[{\"name\": \"Alice\", \"age\": 25}, {\"name\": \"Bob\", \"age\": 30}, {\"name\": \"Charlie\", \"age\": 25}, {\"name\": \"Diana\", \"age\": 30}, {\"name\": \"Eve\", \"age\": 35}]"
    },
    {
      "_id": "advanced_example_group_by",
      "title": "Advanced Example (Group By): Group people by age",
      "identifier": "field-advanced-example-group-by",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd933cc432acc6522b07",
          "formula": "691acd93f033ed54812dc65d",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    },
    {
      "_id": "numbers",
      "title": "Numbers",
      "identifier": "field-numbers",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006",
      "value": "[10, 5, 25, 8, 15]"
    },
    {
      "_id": "advanced_example_statistics",
      "title": "Advanced Example (Statistics): Calculate statistics in a single pass",
      "identifier": "field-advanced-example-statistics",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd933cc432acc6522b08",
          "formula": "691acd93f033ed54812dc65e",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    },
    {
      "_id": "fruits",
      "title": "Fruits",
      "identifier": "field-fruits",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006",
      "value": "[\"apple\", \"banana\", \"apple\", \"orange\", \"banana\", \"apple\"]"
    },
    {
      "_id": "advanced_example_frequency",
      "title": "Advanced Example (Frequency): Create a frequency map of fruits",
      "identifier": "field-advanced-example-frequency",
      "hidden": false,
      "disabled": false,
      "required": false,
      "formulas": [
        {
          "_id": "691acd933cc432acc6522b09",
          "formula": "691acd93f033ed54812dc65f",
          "key": "value"
        }
      ],
      "type": "text",
      "file": "691acd93a0d4b658f8cd5006"
    }
  ],
  "type": "document",
  "deleted": false,
  "createdOn": 1763364243747,
  "formulas": [
    {
      "_id": "691acd93bab5a640f289ddd6",
      "desc": "formular-1",
      "scope": "private",
      "type": "calc",
      "expression": "reduce([1, 2, 3, 4], (acc, num) -> acc + num, 0)"
    },
    {
      "_id": "691acd93bab5a640f289ddd7",
      "desc": "formular-2",
      "scope": "private",
      "type": "calc",
      "expression": "reduce([5, 9, 2, 7], (max, num) -> if(num > max, num, max), -Infinity)"
    },
    {
      "_id": "691acd93f6346774b0b9d08a",
      "desc": "formular-3",
      "scope": "private",
      "type": "calc",
      "expression": "reduce(products, (total, product) -> total + product.price, 0)"
    },
    {
      "_id": "691acd93f6346774b0b9d08b",
      "desc": "formular-4",
      "scope": "private",
      "type": "calc",
      "expression": "reduce(strings, (result, str, index) -> if(index == 0, str, concat(result, \" \", str)), \"\")"
    },
    {
      "_id": "691acd93f033ed54812dc65d",
      "desc": "formular-5",
      "scope": "private",
      "type": "calc",
      "expression": "reduce(people, (result, person) -> { age = person.age; if(empty(result[age]), result[age] = [person], result[age] = concat(result[age], [person])); return result; }, {})"
    },
    {
      "_id": "691acd93f033ed54812dc65e",
      "desc": "formular-6",
      "scope": "private",
      "type": "calc",
      "expression": "reduce(numbers, (stats, num) -> { stats.sum = stats.sum + num; stats.count = stats.count + 1; stats.min = if(num < stats.min, num, stats.min); stats.max = if(num > stats.max, num, stats.max); stats.avg = stats.sum / stats.count; return stats; }, {sum: 0, count: 0, min: Infinity, max: -Infinity, avg: 0})"
    },
    {
      "_id": "691acd93f033ed54812dc65f",
      "desc": "formular-7",
      "scope": "private",
      "type": "calc",
      "expression": "reduce(fruits, (freq, fruit) -> { freq[fruit] = if(empty(freq[fruit]), 1, freq[fruit] + 1); return freq; }, {})"
    }
  ]
}
