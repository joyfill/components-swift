{
  "_id": "685750eff3216b45ffe73c80",
  "identifier": "doc_685750eff3216b45ffe73c80",
  "name": "New Doc",
  "createdOn": 31232313,
  "deleted": false,
  "files": [
    {
      "_id": "685750ef698da1ab427761ba",
      "name": "New File",
      "pageOrder": [
        "685750efeb612f4fac5819dd"
      ],
      "pages": [
        {
          "_id": "685750efeb612f4fac5819dd",
          "name": "New Page",
          "width": 816,
          "height": 1056,
          "rowHeight": 8,
          "cols": 8,
          "fieldPositions": [
            {
              "_id": "68575112158ff5dbaa9f78e1",
              "type": "collection",
              "field": "collection1",
              "displayType": "original",
              "x": 0,
              "y": 0,
              "width": 8,
              "height": 189
            },
            {
              "_id": "number1",
              "type": "number",
              "field": "number1",
              "displayType": "original",
              "x": 0,
              "y": 200,
              "width": 4,
              "height": 8
            },
            {
              "_id": "text1",
              "type": "text",
              "field": "text1",
              "displayType": "original",
              "x": 4,
              "y": 200,
              "width": 4,
              "height": 8
            },
            {
              "_id": "text2",
              "type": "text",
              "field": "text2",
              "displayType": "original",
              "x": 0,
              "y": 208,
              "width": 4,
              "height": 8
            },
            {
              "_id": "number2",
              "type": "number",
              "field": "number2",
              "displayType": "original",
              "x": 4,
              "y": 208,
              "width": 4,
              "height": 8
            },
            {
              "_id": "number3",
              "type": "number",
              "field": "number3",
              "displayType": "original",
              "x": 0,
              "y": 216,
              "width": 4,
              "height": 8
            },
            {
              "_id": "number4",
              "type": "number",
              "field": "number4",
              "displayType": "original",
              "x": 4,
              "y": 216,
              "width": 4,
              "height": 8
            },
            {
              "_id": "number5",
              "type": "number",
              "field": "number5",
              "displayType": "original",
              "x": 0,
              "y": 224,
              "width": 4,
              "height": 8
            },
            {
              "_id": "number6",
              "type": "number",
              "field": "number6",
              "displayType": "original",
              "x": 4,
              "y": 224,
              "width": 4,
              "height": 8
            }
          ],
          "layout": "grid",
          "presentation": "normal",
          "padding": 24
        }
      ],
      "styles": {
        "margin": 4
      },
      "views": []
    }
  ],
  "fields": [
    {
      "file": "685750ef698da1ab427761ba",
      "_id": "collection1",
      "type": "collection",
      "title": "Collection",
      "value": [
        {
          "_id": "68575bb9cdb3707c78d6b2ff",
          "cells": {
            "text1": "A",
            "dropdown1": "684c3fedb1399740f90a0e3e",
            "multiSelect1": [
              "68575301e490d0ce22ae5e7b"
            ],
            "number1": 12.2,
            "date1": 1748750400000,
            "block1": "A",
            "barcode1": "A"
          },
          "children": {
            "schemaDepth2": {
              "value": [
                {
                  "_id": "68575bc1921b69c15fad6c3f",
                  "cells": {
                    "text1": "A",
                    "dropdown1": "685753986c86639323aaf229",
                    "multiSelect1": [
                      "6857539a50b790d5e336aff0"
                    ],
                    "number1": 12.2,
                    "date1": 1748750400000,
                    "block1": "A",
                    "barcode1": "A"
                  },
                  "children": {
                    "schemaDepth3": {
                      "value": [
                        {
                          "_id": "685766454b8dfcaa7f2a512d",
                          "cells": {
                            "text1": "A",
                            "dropdown1": "685753c1372bdec00abf169b",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4"
                            ],
                            "number1": 12.2,
                            "date1": 1748836800000,
                            "barcode1": "A",
                            "block1": "A"
                          },
                          "children": {}
                        },
                        {
                          "_id": "68599574605e6ac42eda4cb1",
                          "cells": {
                            "text1": "AbC",
                            "dropdown1": "685753c14ae34ea35d94555f",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4"
                            ],
                            "number1": 23,
                            "block1": "AbC",
                            "barcode1": "AbC"
                          },
                          "children": {}
                        },
                        {
                          "_id": "6859957846d24f95d8ee02b6",
                          "cells": {
                            "text1": "ab",
                            "dropdown1": "685753c14ae34ea35d94555f",
                            "multiSelect1": [
                              "685753c50f069f0ae0719ae5"
                            ],
                            "number1": 200,
                            "block1": "ab",
                            "barcode1": "ab"
                          },
                          "children": {}
                        }
                      ]
                    }
                  }
                },
                {
                  "_id": "6857668821728a326dd1bd13",
                  "cells": {
                    "text1": "AbC",
                    "dropdown1": "685753986c86639323aaf229",
                    "multiSelect1": [
                      "6857539acdb2537ead9146a5"
                    ],
                    "number1": 22,
                    "date1": 1748836800000,
                    "barcode1": "AbC",
                    "block1": "AbC"
                  },
                  "children": {
                    "schemaDepth3": {
                      "value": [
                        {
                          "_id": "68599641c7be60f9abb0c4f2",
                          "cells": {
                            "text1": "A",
                            "dropdown1": "685753c1372bdec00abf169b",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4"
                            ],
                            "number1": 12.2,
                            "block1": "A",
                            "barcode1": "A"
                          },
                          "children": {}
                        },
                        {
                          "_id": "68599643a49a5715d336c01e",
                          "cells": {
                            "text1": "AbC",
                            "dropdown1": "685753c14ae34ea35d94555f",
                            "multiSelect1": [
                              "685753c50f069f0ae0719ae5"
                            ],
                            "number1": 22,
                            "block1": "AbC",
                            "barcode1": "AbC"
                          },
                          "children": {}
                        }
                      ]
                    }
                  }
                },
                {
                  "_id": "685995d7bc8c35f73c92cebe",
                  "cells": {
                    "text1": "a B C",
                    "dropdown1": "685753986c86639323aaf229",
                    "multiSelect1": [
                      "6857539acdb2537ead9146a5"
                    ],
                    "number1": 200,
                    "block1": "a B c",
                    "barcode1": "a B c"
                  },
                  "children": {}
                }
              ]
            }
          }
        },
        {
          "_id": "685765dcf190077e95796c41",
          "cells": {
            "text1": "AbC",
            "dropdown1": "684c3fedb1399740f90a0e3e",
            "multiSelect1": [
              "68575301acf418342f1b05a4"
            ],
            "number1": 22,
            "date1": 1748836800000,
            "barcode1": "AbC",
            "block1": "AbC"
          },
          "children": {
            "schemaDepth2": {
              "value": []
            }
          }
        },
        {
          "_id": "68582dd76e0e93dd2017372a",
          "cells": {
            "text1": "ab",
            "dropdown1": "684c3fedb1399740f90a0e3e",
            "multiSelect1": [
              "68575301e490d0ce22ae5e7b",
              "68575301acf418342f1b05a4"
            ],
            "number1": 200,
            "block1": "ab",
            "barcode1": "ab"
          },
          "children": {
            "schemaDepth2": {
              "value": [
                {
                  "_id": "685996fcf5d831dffdec11bd",
                  "cells": {
                    "text1": "A",
                    "dropdown1": "685753986c86639323aaf229",
                    "multiSelect1": [
                      "6857539a50b790d5e336aff0"
                    ],
                    "number1": 12.2,
                    "block1": "A",
                    "barcode1": "A"
                  },
                  "children": {
                    "schemaDepth3": {
                      "value": [
                        {
                          "_id": "685997288aabc6600055e5eb",
                          "cells": {
                            "text1": "A",
                            "dropdown1": "685753c1372bdec00abf169b",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4"
                            ],
                            "number1": 12.2,
                            "block1": "A",
                            "barcode1": "A"
                          },
                          "children": {}
                        }
                      ]
                    }
                  }
                },
                {
                  "_id": "685997248bb46dfa16785eca",
                  "cells": {
                    "text1": "AbC",
                    "dropdown1": "685753986c86639323aaf229",
                    "multiSelect1": [
                      "6857539a50b790d5e336aff0"
                    ],
                    "number1": 22,
                    "block1": "AbC",
                    "barcode1": "AbC"
                  },
                  "children": {
                    "schemaDepth3": {
                      "value": [
                        {
                          "_id": "6859978e18a1e6acfa11fb3f",
                          "cells": {
                            "text1": "a B c",
                            "dropdown1": "685753c1372bdec00abf169b",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4"
                            ],
                            "number1": 12.2,
                            "block1": "a B c",
                            "barcode1": "a B c"
                          },
                          "children": {}
                        },
                        {
                          "_id": "6859978fc43377a6bb50e7df",
                          "cells": {
                            "text1": "AbC",
                            "dropdown1": "685753c14ae34ea35d94555f",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4",
                              "685753c50f069f0ae0719ae5"
                            ],
                            "number1": 22,
                            "block1": "AbC",
                            "barcode1": "AbC"
                          },
                          "children": {}
                        },
                        {
                          "_id": "68599790e8593d6d76c3a09f",
                          "cells": {
                            "text1": "A",
                            "dropdown1": "685753c1372bdec00abf169b",
                            "multiSelect1": [
                              "685753c5265c32e4ff94cfa4"
                            ],
                            "number1": 200,
                            "block1": "A",
                            "barcode1": "A"
                          },
                          "children": {}
                        }
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        {
          "_id": "68582dde1b30a59b4272a5c7",
          "cells": {
            "text1": "a B c",
            "dropdown1": "684c3fedf47cc0fea6bca947",
            "multiSelect1": [
              "68575301e490d0ce22ae5e7b"
            ],
            "number1": 22.2,
            "block1": "a B c",
            "barcode1": "a B c"
          },
          "children": {}
        }
      ],
      "schema": {
        "schemaDepth1": {
          "title": "Root Table",
          "root": true,
          "children": [
            "schemaDepth2"
          ],
          "tableColumns": [
            {
              "_id": "text1",
              "type": "text",
              "title": "Text D1"
            },
            {
              "_id": "dropdown1",
              "type": "dropdown",
              "title": "Dropdown D1",
              "options": [
                {
                  "_id": "684c3fedb1399740f90a0e3e",
                  "value": "Yes D1"
                },
                {
                  "_id": "684c3fedf47cc0fea6bca947",
                  "value": "No D1"
                },
                {
                  "value": "N/A D1",
                  "_id": "6857677bcdeebfc3fced46fe"
                }
              ]
            },
            {
              "_id": "multiSelect1",
              "type": "multiSelect",
              "title": "MultiSelect  D1",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "68575301e490d0ce22ae5e7b",
                  "value": "Option 1 D1",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "_id": "68575301acf418342f1b05a4",
                  "value": "Option 2 D1",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "value": "Option 3 D1",
                  "_id": "685767dae7cf2193a50ff550"
                }
              ]
            },
            {
              "_id": "image1",
              "type": "image",
              "title": "Image  D1",
              "width": 0
            },
            {
              "_id": "number1",
              "type": "number",
              "title": "Number  D1",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "date1",
              "type": "date",
              "title": "Date  D1",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "block1",
              "type": "block",
              "title": "Label Column",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "barcode1",
              "type": "barcode",
              "title": "Barcode  D1",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "signature1",
              "type": "signature",
              "title": "Signature  D1",
              "width": 0,
              "deleted": false
            }
          ]
        },
        "schemaDepth2": {
          "title": "Depth 2",
          "children": [
            "schemaDepth3"
          ],
          "hidden": false,
          "tableColumns": [
            {
              "_id": "text1",
              "type": "text",
              "title": "Text D2",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "dropdown1",
              "type": "dropdown",
              "title": "Dropdown D2",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "685753986c86639323aaf229",
                  "value": "Yes D2",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "_id": "68575398844c41cce0263417",
                  "value": "No D2",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "value": "N/A D3",
                  "_id": "6857678639c2828707766aaf"
                }
              ]
            },
            {
              "_id": "multiSelect1",
              "type": "multiSelect",
              "title": "MultiSelect D2",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "6857539a50b790d5e336aff0",
                  "value": "Option 1 D2",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "_id": "6857539acdb2537ead9146a5",
                  "value": "Option 2 D2",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "value": "Option 3 D2",
                  "_id": "685767e7f08491d2bc86146a"
                }
              ]
            },
            {
              "_id": "image1",
              "type": "image",
              "title": "Image D2",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "number1",
              "type": "number",
              "title": "Number  D2",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "date1",
              "type": "date",
              "title": "Date D2",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "block1",
              "type": "block",
              "title": "Label  D2",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "barcode1",
              "type": "barcode",
              "title": "Barcode  D2",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "signature1",
              "type": "signature",
              "title": "Signature  D2",
              "width": 0,
              "deleted": false
            }
          ]
        },
        "schemaDepth3": {
          "title": "Depth 3",
          "children": [
            "schemaDepth4"
          ],
          "hidden": false,
          "tableColumns": [
            {
              "_id": "text1",
              "type": "text",
              "title": "Text D3",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "dropdown1",
              "type": "dropdown",
              "title": "Dropdown D3",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "685753c1372bdec00abf169b",
                  "value": "Yes D3",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "_id": "685753c14ae34ea35d94555f",
                  "value": "No D3",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "value": "N/A D3",
                  "_id": "6857679167952237cfee0d70"
                }
              ]
            },
            {
              "_id": "multiSelect1",
              "type": "multiSelect",
              "title": "MultiSelect D3",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "685753c5265c32e4ff94cfa4",
                  "value": "Option 1 D3",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "_id": "685753c50f069f0ae0719ae5",
                  "value": "Option 2 D3",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "value": "Option 3 D3",
                  "_id": "685767faa5a52130ca6b6e50"
                }
              ]
            },
            {
              "_id": "image1",
              "type": "image",
              "title": "Image D3",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "number1",
              "type": "number",
              "title": "Number D3",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "date1",
              "type": "date",
              "title": "Date D3",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "block1",
              "type": "block",
              "title": "Label D3",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "barcode1",
              "type": "barcode",
              "title": "Barcode D3",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "signature1",
              "type": "signature",
              "title": "Signature D3",
              "width": 0,
              "deleted": false
            }
          ]
        },
        "schemaDepth4": {
          "title": "Depth 4",
          "children": [
            "schemaDepth5"
          ],
          "hidden": false,
          "tableColumns": [
            {
              "_id": "text1",
              "type": "text",
              "title": "Text D4",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "dropdown1",
              "type": "dropdown",
              "title": "Dropdown D4",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "685753de13ecb09460c7cd4c",
                  "value": "Yes D4",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "_id": "685753dea95c939764b42be2",
                  "value": "No D4",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "value": "N/A D4",
                  "_id": "6857679b15c09aae9b95a9e0"
                }
              ]
            },
            {
              "_id": "multiSelect1",
              "type": "multiSelect",
              "title": "MultiSelect D4",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "685753e09817c6d8a3c25393",
                  "value": "Option 1 D4",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "_id": "685753e0554156832a3d7c85",
                  "value": "Option 2 D4",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "value": "Option 3 D4",
                  "_id": "68576804f5c74b15ca18c1c1"
                }
              ]
            },
            {
              "_id": "image1",
              "type": "image",
              "title": "Image D4",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "number1",
              "type": "number",
              "title": "Number D4",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "date1",
              "type": "date",
              "title": "Date D4",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "block1",
              "type": "block",
              "title": "Label D4",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "barcode1",
              "type": "barcode",
              "title": "Barcode D4",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "signature1",
              "type": "signature",
              "title": "Signature D4",
              "width": 0,
              "deleted": false
            }
          ]
        },
        "schemaDepth5": {
          "title": "Depth 5",
          "children": [],
          "hidden": false,
          "tableColumns": [
            {
              "_id": "text1",
              "type": "text",
              "title": "Text D5",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "dropdown1",
              "type": "dropdown",
              "title": "Dropdown D5",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "685754312917fa9b50290710",
                  "value": "Yes D5",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "_id": "685754311366fec0af55f746",
                  "value": "No D5",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": null
                  }
                },
                {
                  "_id": "685767ab94625930aa95f112",
                  "value": "N/A D5",
                  "width": 200,
                  "styles": {}
                }
              ]
            },
            {
              "_id": "multiSelect1",
              "type": "multiSelect",
              "title": "MultiSelect D5",
              "deleted": false,
              "width": 0,
              "options": [
                {
                  "_id": "6857543460ebbc12cdea183b",
                  "value": "Option 1 D5",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "_id": "6857543450dc411aef58faf3",
                  "value": "Option 2 D5",
                  "deleted": false,
                  "styles": {
                    "backgroundColor": "#f0f0f0"
                  }
                },
                {
                  "value": "Option 3 D5",
                  "_id": "6857680eeec1257cb5971e1f"
                }
              ]
            },
            {
              "_id": "image1",
              "type": "image",
              "title": "Image D5",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "number1",
              "type": "number",
              "title": "Number D5",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "date1",
              "type": "date",
              "title": "Date D5",
              "deleted": false,
              "width": 0
            },
            {
              "_id": "block1",
              "type": "block",
              "title": "Label D5",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "barcode1",
              "type": "barcode",
              "title": "Barcode D5",
              "width": 0,
              "deleted": false
            },
            {
              "_id": "signature1",
              "type": "signature",
              "title": "Signature D5",
              "width": 0,
              "deleted": false
            }
          ]
        }
      },
      "identifier": "field_68575112847f32f878c77daf"
    },
    {
      "_id": "number1",
      "file": "685750ef698da1ab427761ba",
      "type": "number",
      "title": "Count of collection1 rows",
      "identifier": "field_auto_collection_row_count",
      "formulas": [
        {
          "_id": "F001",
          "formula": "rootTotalRowCount",
          "key": "value"
        }
      ]
    },
    {
      "_id": "text1",
      "file": "685750ef698da1ab427761ba",
      "type": "text",
      "title": "Root first row text1 value",
      "identifier": "field_auto_display_first_text1",
      "formulas": [
        {
          "_id": "F002",
          "formula": "rootFirstRowText1Value",
          "key": "value"
        }
      ]
    },
    {
      "_id": "text2",
      "file": "685750ef698da1ab427761ba",
      "type": "text",
      "title": "Schema depth 3 first row text1 value",
      "identifier": "field_auto_display_nested_text1",
      "formulas": [
        {
          "_id": "F003",
          "formula": "schemaDepth3FirstRowText1Value",
          "key": "value"
        }
      ]
    },
    {
      "_id": "number2",
      "file": "685750ef698da1ab427761ba",
      "type": "number",
      "title": "Schema depth 3 row count",
      "identifier": "field_auto_display_schema_depth_3_row_count",
      "formulas": [
        {
          "_id": "F004",
          "formula": "schemaDepth3RowCount",
          "key": "value"
        }
      ]
    },
    {
      "_id": "number3",
      "file": "685750ef698da1ab427761ba",
      "type": "number",
      "title": "Count of Depth2 rows with any Depth3 dropdown == 'No D3'",
      "identifier": "field_auto_count_depth2_with_no_d3",
      "formulas": [
        {
          "_id": "F005",
          "formula": "countDepth2WithNoD3Dropdown",
          "key": "value"
        }
      ]
    },
    {
      "_id": "number4",
      "file": "685750ef698da1ab427761ba",
      "type": "number",
      "title": "Sum of number1 at schemaDepth3",
      "identifier": "field_auto_sum_number1_depth3",
      "formulas": [
        {
          "_id": "F006",
          "formula": "sumNumber1AtDepth3",
          "key": "value"
        }
      ]
    },
    {
      "_id": "number5",
      "file": "685750ef698da1ab427761ba",
      "type": "number",
      "title": "Count of 'Option 1 D2' in Depth2 multiSelect1",
      "identifier": "field_auto_count_option1_d2",
      "formulas": [
        {
          "_id": "F007",
          "formula": "countOption1InDepth2MultiSelect1",
          "key": "value"
        }
      ]
    },
    {
      "_id": "number6",
      "file": "685750ef698da1ab427761ba",
      "type": "number",
      "title": "Count of date1 where day == 1",
      "identifier": "field_auto_count_day1_in_date1",
      "formulas": [
        {
          "_id": "F008",
          "formula": "countDay1InDate1",
          "key": "value"
        }
      ]
    }
  ],
  "type": "document",
  "formulas": [
    {
      "_id": "rootTotalRowCount",
      "desc": "Count number of rows in collection1",
      "type": "calc",
      "scope": "private",
      "expression": "length(collection1)"
    },
    {
      "_id": "rootFirstRowText1Value",
      "desc": "Display text1 value from the first row in collection1",
      "type": "calc",
      "scope": "private",
      "expression": "collection1.0.text1"
    },
    {
      "_id": "schemaDepth3FirstRowText1Value",
      "desc": "Display text1 value from collection1 > schemaDepth2 > schemaDepth3",
      "type": "calc",
      "scope": "private",
      "expression": "collection1.0.children.schemaDepth2.0.children.schemaDepth3.0.text1"
    },
    {
      "_id": "schemaDepth3RowCount",
      "desc": "Count number of rows in schemaDepth3 for first row of schemaDepth2",
      "type": "calc",
      "scope": "private",
      "expression": "length(collection1.0.children.schemaDepth2.0.children.schemaDepth3)"
    },
    {
      "_id": "countDepth2WithNoD3Dropdown",
      "desc": "Count Depth2 rows where any Depth3 child has dropdown1 == 'No D3'",
      "type": "calc",
      "scope": "private",
      "expression": "sum(\n  map(collection1, (rootRow) -> \n    count(\n      filter(rootRow.children.schemaDepth2, (schemaDepth2Row) -> \t\t\n        some(schemaDepth2Row.children.schemaDepth3, (schemaDepth3Row) -> \n          schemaDepth3Row.dropdown1 == \"No D3\"\n        )\n      )\n    )\n  )\n)"
    },
    {
      "_id": "sumNumber1AtDepth3",
      "desc": "Sum all number1 values in schemaDepth3 across all collection1 rows",
      "type": "calc",
      "scope": "private",
      "expression": "sum(\n  flatMap(collection1, (rootRow) -> \n    flatMap(rootRow.children.schemaDepth2, (depth2Row) -> \n      map(depth2Row.children.schemaDepth3, (depth3Row) -> \n        depth3Row.number1\n      )\n    )\n  )\n)"
    },
    {
      "_id": "countOption1InDepth2MultiSelect1",
      "desc": "Count how many times 'Option 1 D2' appears in multiSelect1 of schemaDepth2",
      "type": "calc",
      "scope": "private",
      "expression": "countIf(\n  flatMap(collection1, (rootRow) ->\n    flatMap(rootRow.children.schemaDepth2, (depth2Row) ->\n      depth2Row.multiSelect1\n    )\n  ),\n  \"Option 1 D2\"\n)"
    },
    {
      "_id": "countDay1InDate1",
      "desc": "Count how many rows in collection1 have a day(date1) value of 1",
      "type": "calc",
      "scope": "private",
      "expression": "countIf(\n  map(collection1, (row) -> day(row.date1)),\n  1\n)"
    }
  ]
}

